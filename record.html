<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
      html, body { height: 100%; margin: 0; padding: 0; }
      #map { height: 100%; }
    </style>
  </head>
  <body>
    
      
      
      
      
    <script type="text/javascript">

        
        
        
   var map,pos,marker;
        
function initMap() {
  
      
         map = new google.maps.Map(document.getElementById('map'), {
    center: {lat: -34.397, lng: 150.644},
    zoom: 15
  });
        

  // Try HTML5 geolocation.
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
       pos = {
        lat: position.coords.latitude,
        lng: position.coords.longitude
      };
        
      
        
        
        
        
        
        
        


var  startmarker = new google.maps.Marker({
    position: pos,
    map: map,
   icon: {
      path: google.maps.SymbolPath.CIRCLE,
      scale: 10
    },
  });   
        
  
        
        
   
 startmarker.setAnimation(google.maps.Animation.DROP); 
    

       map.setCenter(pos);
    
       
        
        
        
      
   flightPath = new google.maps.Polyline({
   
    geodesic: true,
    strokeColor: '#FF0000',
    strokeOpacity: 1.0,
    strokeWeight: 2
  });

    
   
    }
      
                                         );
  } 
   
}

        
        
        
        
        
   function myFunction() {
    myVar =   setInterval(startrecord, 500)  ;
}

        
        
   function myStopFunction() {
    clearTimeout(myVar);
}
    
    
         
        
   
function startrecord()  {
    
    
  if (marker != null){  marker.setMap(null);}
  
      
    
    
    
    

            if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
       pos = {
        lat: position.coords.latitude,
        lng: position.coords.longitude
      };
        
        
        
        
        
                                             
        
    
    marker = new google.maps.Marker({
    position: pos,
    map: map,
   icon: {
      path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
      scale: 10
    },
  });
        
       
      marker.setAnimation(google.maps.Animation.BOUNCE);
  
    
      map.setCenter(pos)
    
 
 

    if (flightPath.path == null){  flightPath.setMap(null);}
    
      path = flightPath.getPath();
     path.push(map.center);
    
    
    
     flightPath.setMap(map);
    
    console.log(pos);
   // console.log(map.center)
    
    
        
            
}
     
                                             
        
                                             
      
                                         );
  }       
        
        
}
        

    </script>
    <script async defer
  src="https://maps.googleapis.com/maps/api/js?v=3&amp;key=&amp;callback=initMap">
    </script>
  </body>
</html>


<!-- Square card -->
<style>
.demo-card-square.mdl-card {
  width: 640px;
  height: 640px;
}
.demo-card-square > .mdl-card__title {
  color: #fff;
  
}
</style>

<div class="demo-card-square mdl-card mdl-shadow--2dp">
  <div class="mdl-card__title mdl-card--expand">
    <h2 class="mdl-card__title-text">map</h2>
  </div>
    <div id = 'map'</div>
  
  
</div>



<a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"  onclick="myFunction()"> start recording! </a>


<a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"  onclick="myStopFunction()"> stop recording! </a>

<a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"  onclick="location.href='view.html';">View records! </a>






<link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.indigo-pink.min.css">
<script src="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
 





        




        
